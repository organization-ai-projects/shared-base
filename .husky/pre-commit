#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

# Stop script on error
set -e

# Format code
echo "ğŸ¨ Formatting code..."
pnpm format || { echo "âŒ Formatting failed."; exit 1; }

# Lint code
echo "ğŸ” Linting code..."
pnpm lint || { echo "âŒ Linting failed."; exit 1; }

# Run tests
echo "ğŸ§ª Running tests..."
pnpm test || { echo "âŒ Tests failed."; exit 1; }

# Stage any auto-fixed files
echo "ğŸ“‚ Staging changes..."
git add -A
